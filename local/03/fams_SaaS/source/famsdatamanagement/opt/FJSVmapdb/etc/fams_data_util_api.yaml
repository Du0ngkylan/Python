#  COPYRIGHT 2020 FUJITSU LIMITED
#  
#  @file   fams_data_util_api.yaml
#  @brief  富士通養殖システム管理IF設計ファイル
#  @author ThangLQ
#  @date   20/1/2020

swagger: '2.0'
info:
  description: >
    <h3>変更履歴</h3>
    <table border="1">
      <thead>
        <tr>
          <th style="text-align:left">版数</th>
          <th style="text-align:left">日付け</th>
          <th style="text-align:left">編集者</th>
          <th style="text-align:left">変更概要</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td style="text-align:left">1</td>
          <td style="text-align:left">20/1/2020</td>
          <td style="text-align:left">thangle</td>
          <td style="text-align:left">新規作成</td>
        </tr>
      </tbody>
    </table>
  version: '1'
  title: 基本設計書インターフェース仕様書
schemes: 
  - http
basePath: fishtech/{TENANT_CODE}/api/{API_VERSION}
produces: 
  - application/json
consumes: 
  - application/json
paths:
  /app/login:
    post:
      tags:
        - login
      summary: "アカウントでシステムに ログイン します。"
      parameters:
        - name: Body
          in: body
          required: true
          schema:
            type: object
            properties:
                data:
                  type: object
                  description: "ユーザ認証 に必要な情報です。"
                  properties:
                      userId:
                        type: string
                        default: ''
                        minLength: 0
                        description: "ユーザID です。"
                        maxLength: 20
                      password:
                        type: string
                        default: ''
                        minLength: 0
                        description: "パスワード です。"
                        maxLength: 64
      responses:
        '200':
          description: "OK"
          required: true
          schema:
            type: object
            properties:
                accessToken:
                  type: string
                  default: ''
                  minLength: 0
                  description: "結果(備考：0: OK, 1: NG)"
                  maxLength: 64
        '400':
          description: "Bad Request（リクエストが不正です。パラメータ異常などで、リクエストがおかしい場合に返されます。）"
        '401':
          description: "Unauthorized（認証が必要です。認証されていないときに返されます。）"
        '404':
          description: "Not Found（未検出。リソースが見つからないときに返されます。）"
  /app/logout:
    post:
      tags:
        - logout
      summary: "システムから ログアウト します。"
      parameters:
        - name: Body
          in: body
          required: false
          schema:
            type: string
      responses:
        '200':
          description: "OK"
        '400':
          description: "Bad Request（リクエストが不正です。パラメータ異常などで、リクエストがおかしい場合に返されます。）"
        '401':
          description: "Unauthorized（認証が必要です。認証されていないときに返されます。）"
        '404':
          description: "Not Found（未検出。リソースが見つからないときに返されます。）"
  /app/users:
    get:
      tags:
        - users
      summary: "getUsers"
      parameters:
        - name: Body
          in: body
          required: false
          schema:
            type: string
      responses:
        '200':
          description: "OK"
          required: true
          schema:
            type: object
            properties:
                data:
                  type: array
                  description: "ユーザ情報(備考：)"
                  items:
                    type: object
                    properties:
                      id:
                        type: integer
                        format: int64
                        default: -1
                        description: "ユーザId(備考：id)"
                      userId:
                        type: string
                        default: ''
                        minLength: 0
                        description: "アカウント(備考：userId)"
                        maxLength: 20
                      name:
                        type: string
                        default: ''
                        minLength: 0
                        description: "アカウント(備考：userName)"
                        maxLength: 65
                      role:
                        type: string
                        default: ''
                        minLength: 0
                        description: "フルネーム(備考：role)"
                        maxLength: 2
                      mail:
                        type: string
                        default: ''
                        minLength: 0
                        description: "メール(備考：mail)"
                        maxLength: 100
                      activities:
                        type: array
                        description: "ユーザ情報(備考：activities)"
                        items:
                          type: object
                          properties:
                            type:
                              type: string
                              default: ''
                              minLength: 0
                              description: ""
                              maxLength: 100
                            date:
                              type: string
                              default: ''
                              minLength: 0
                              description: ""
                              maxLength: 30
                            description:
                              type: string
                              default: ''
                              minLength: 0
                              description: ""
                              maxLength: 100
        '400':
          description: "Bad Request（リクエストが不正です。パラメータ異常などで、リクエストがおかしい場合に返されます。）"
        '401':
          description: "Unauthorized（認証が必要です。認証されていないときに返されます。）"
        '403':
          description: "Forbidden（禁止されている。認証後、認可されていないときに返されます。）"
        '404':
          description: "Not Found（未検出。リソースが見つからないときに返されます。）"
    post:
      tags:
        - users
      summary: "createUser"
      parameters:
        - name: Body
          in: body
          required: true
          schema:
            type: object
            properties:
                data:
                  type: object
                  description: "生体情報(備考：)"
                  properties:
                      userId:
                        type: string
                        default: ''
                        minLength: 0
                        description: "ユーザID です。"
                        maxLength: 20
                      name:
                        type: string
                        default: ''
                        minLength: 0
                        description: "ユーザID です。"
                        maxLength: 65
                      role:
                        type: string
                        default: ''
                        minLength: 0
                        description: "ユーザ の 役割 です。"
                        maxLength: 2
                      mail:
                        type: string
                        default: ''
                        minLength: 0
                        description: "ユーザ の メールアドレス です。"
                        maxLength: 100
                      password:
                        type: string
                        default: ''
                        minLength: 0
                        description: "パスワード(備考：サーバ側では、Base64で暗号化される)"
                        maxLength: 64
      responses:
        '200':
          description: "OK"
          required: true
          schema:
            type: object
            properties:
                data:
                  type: object
                  description: "生体情報(備考：)"
                  properties:
                      id:
                        type: integer
                        format: int64
                        default: -1
                        description: "ユーザID です。"
                      userId:
                        type: string
                        default: ''
                        minLength: 0
                        description: "新規生体Id(備考：)"
                        maxLength: 20 
                      name:
                        type: string
                        default: ''
                        minLength: 0
                        description: "ユーザ の 表示名 です。"
                        maxLength: 100 
                      role:
                        type: string
                        default: ''
                        minLength: 0
                        description: "ユーザ の 役割 です。"
                        maxLength: 2
                      mail:
                        type: string
                        default: ''
                        minLength: 0
                        description: "ユーザ の メールアドレス です。"
                        maxLength: 100
                      activities:
                        type: array
                        description: "ユーザ情報(備考：activities)"
                        items:
                          type: object
                          properties:
                            type:
                              type: string
                              default: ''
                              minLength: 0
                              description: ""
                              maxLength: 100
                            date:
                              type: string
                              default: ''
                              minLength: 0
                              description: ""
                              maxLength: 30
                            description:
                              type: string
                              default: ''
                              minLength: 0
                              description: ""
                              maxLength: 100
        '400':
          description: Bad Request（リクエストが不正です。パラメータ異常などで、リクエストがおかしい場合に返されます。）
        '401':
          description: Unauthorized（認証が必要です。認証されていないときに返されます。）
        '403':
          description: Forbidden（禁止されている。認証後、認可されていないときに返されます。）
        '404':
          description: Not Found（未検出。リソースが見つからないときに返されます。）
  /app/users/{userId}:
    get:
      tags:
        - users
      summary: "getUser"
      parameters:
        - name: Body
          in: body
          required: false
          schema:
            type: string
      responses:
        '200':
          description: "OK"
          required: true
          schema:
            type: object
            properties:
                data:
                  type: object
                  description: "生体情報(備考：)"
                  properties:
                      id:
                        type: integer
                        format: int64
                        default: -1
                        description: "ユーザID です。"
                      userId:
                        type: string
                        default: ''
                        minLength: 0
                        description: "新規生体Id(備考：)"
                        maxLength: 20 
                      name:
                        type: string
                        default: ''
                        minLength: 0
                        description: "ユーザ の 表示名 です。"
                        maxLength: 65 
                      role:
                        type: string
                        default: ''
                        minLength: 0
                        description: "ユーザ の 役割 です。"
                        maxLength: 2
                      mail:
                        type: string
                        default: ''
                        minLength: 0
                        description: "ユーザ の メールアドレス です。"
                        maxLength: 100
                      activities:
                        type: array
                        description: "ユーザ情報(備考：activities)"
                        items:
                          type: object
                          properties:
                            type:
                              type: string
                              default: ''
                              minLength: 0
                              description: ""
                              maxLength: 100
                            date:
                              type: string
                              default: ''
                              minLength: 0
                              description: ""
                              maxLength: 30
                            description:
                              type: string
                              default: ''
                              minLength: 0
                              description: ""
                              maxLength: 100
        '400':
          description: Bad Request（リクエストが不正です。パラメータ異常などで、リクエストがおかしい場合に返されます。）
        '401':
          description: Unauthorized（認証が必要です。認証されていないときに返されます。）
        '403':
          description: Forbidden（禁止されている。認証後、認可されていないときに返されます。）
        '404':
          description: Not Found（未検出。リソースが見つからないときに返されます。）
    put:
      tags:
        - users
      summary: "updateUser"
      parameters:
        - name: Body
          in: body
          required: true
          schema:
            type: object
            properties:
              data:
                type: object
                description: "データ(備考：)"
                properties:
                  name:
                    type: string
                    default: ''
                    minLength: 0
                    description: "ユーザ の 表示名 です。"
                    maxLength: 65
                  role:
                    type: string
                    default: ''
                    minLength: 0
                    description: "ユーザ の 役割 です。"
                    maxLength: 2
                   mail:
                    type: string
                    default: ''
                    minLength: 0
                    description: "ユーザ の メールアドレス です。"
                    maxLength: 100                   
      responses:
        '200':
          description: "OK"
          required: true
          schema:
            type: object
            properties:
                data:
                  type: object
                  description: "生体情報(備考：)"
                  properties:
                      id:
                        type: integer
                        format: int64
                        default: -1
                        description: "ユーザID です。"
                      userId:
                        type: string
                        default: ''
                        minLength: 0
                        description: "新規生体Id(備考：)"
                        maxLength: 100 
                      name:
                        type: string
                        default: ''
                        minLength: 0
                        description: "ユーザ の 表示名 です。"
                        maxLength: 100 
                      role:
                        type: string
                        default: ''
                        minLength: 0
                        description: "ユーザ の 役割 です。"
                        maxLength: 100
                      mail:
                        type: string
                        default: ''
                        minLength: 0
                        description: "ユーザ の メールアドレス です。"
                        maxLength: 100
                      activities:
                        type: array
                        description: "ユーザ情報(備考：activities)"
                        items:
                          type: object
                          properties:
                            type:
                              type: string
                              default: ''
                              minLength: 0
                              description: ""
                              maxLength: 100
                            date:
                              type: string
                              default: ''
                              minLength: 0
                              description: ""
                              maxLength: 30
                            description:
                              type: string
                              default: ''
                              minLength: 0
                              description: ""
                              maxLength: 100
        '400':
          description: Bad Request（リクエストが不正です。パラメータ異常などで、リクエストがおかしい場合に返されます。）
        '401':
          description: Unauthorized（認証が必要です。認証されていないときに返されます。）
        '403':
          description: Forbidden（禁止されている。認証後、認可されていないときに返されます。）
        '404':
          description: Not Found（未検出。リソースが見つからないときに返されます。）
    delete:
      tags:
        - users
      summary: "deleteUser"
      parameters:
        - name: Body
          in: body
          required: false
          schema:
            type: string
      responses:
        '200':
          description: "OK"
        '400':
          description: Bad Request（リクエストが不正です。パラメータ異常などで、リクエストがおかしい場合に返されます。）
        '401':
          description: Unauthorized（認証が必要です。認証されていないときに返されます。）
        '403':
          description: Forbidden（禁止されている。認証後、認可されていないときに返されます。）
        '404':
          description: Not Found（未検出。リソースが見つからないときに返されます。）
  /app/users/{userId}/password:
    post:
      tags:
        - users
      summary: "updateUserPassword"
      parameters:
        - name: Body
          in: body
          required: false
          schema:
            type: string
      responses:
        '200':
          description: "OK"
          required: true
          schema:
            type: object
            properties:
                data:
                  type: object
                  description: "パスワード です。"
                  properties:
                      newPassword:
                        type: string
                        default: ''
                        minLength: 0
                        description: "SHA256 で生成したハッシュを16進数にした文字列です。"
                        maxLength: 64
        '400':
          description: Bad Request（リクエストが不正です。パラメータ異常などで、リクエストがおかしい場合に返されます。）
        '401':
          description: Unauthorized（認証が必要です。認証されていないときに返されます。）
        '403':
          description: Forbidden（禁止されている。認証後、認可されていないときに返されます。）
        '404':
          description: Not Found（未検出。リソースが見つからないときに返されます。）
  /app/monitor:
    get:
      tags:
        - monitor
      summary: "すべての エリア を取得します。"
      parameters:
        - name: Body
          in: body
          required: false
          schema:
            type: string
      responses:
        '200':
          description: "OK"
          required: true
          schema:
            type: object
            properties:
                data:
                  type: array
                  description: "データ(備考：)"
                  items:
                    type: object
                    properties:
                      id:
                        type: string
                        default: ''
                        minLength: 0
                        description: "作業Id(備考：)"
                        maxLength: 30
                      name:
                        type: string
                        default: ''
                        minLength: 0
                        description: "FUJITSU養殖施設"
                        maxLength: 30
                      cisterns:
                        type: array
                        description: ""
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                              default: ''
                              minLength: 0
                              description: "作業Id(備考：)"
                              maxLength: 30
                            name:
                              type: string
                              default: ''
                              minLength: 0
                              description: "水槽（北側）"
                              maxLength: 65
                            cisternTypeId:
                              type: string
                              default: ''
                              minLength: 0
                              description: "作業Id(備考：cisternTypeId)"
                              maxLength: 30
                            areaId:
                              type: string
                              default: ''
                              minLength: 0
                              description: "作業Id(備考：areaId)"
                              maxLength: 30
                            lots:
                              
                      measuredValues:
                        type: array
                        description: ""
                        items:
                          type: object
                      tasks:
                        type: array
                        description: ""
                        items:
                          type: object
        '400':
          description: "Bad Request（リクエストが不正です。パラメータ異常などで、リクエストがおかしい場合に返されます。）"
        '401':
          description: "Unauthorized（認証が必要です。認証されていないときに返されます。）"
        '403':
          description: "Forbidden（禁止されている。認証後、認可されていないときに返されます。）"
        '404':
          description: "Not Found（未検出。リソースが見つからないときに返されます。）"